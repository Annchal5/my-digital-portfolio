@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light mode - Clean professional */
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 199 89% 48%;
    --primary-foreground: 222 47% 11%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 199 89% 48%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 199 89% 48%;
    --radius: 0.5rem;
  }

  .dark {
    /* Dark mode - Enterprise Cybersecurity Theme */
    /* Main background: #0B1220 */
    --background: 218 50% 8%;
    /* Primary text: #E5E7EB */
    --foreground: 220 13% 91%;
    /* Cards: #1F2933 */
    --card: 210 24% 16%;
    --card-foreground: 220 13% 91%;
    /* Section background: #111827 */
    --popover: 222 47% 11%;
    --popover-foreground: 220 13% 91%;
    /* Accent: #38BDF8 */
    --primary: 199 89% 60%;
    --primary-foreground: 218 50% 8%;
    /* Section background for secondary */
    --secondary: 222 47% 11%;
    --secondary-foreground: 220 13% 91%;
    /* Muted with section bg */
    --muted: 222 47% 11%;
    /* Secondary text: #9CA3AF */
    --muted-foreground: 218 11% 65%;
    --accent: 199 89% 60%;
    --accent-foreground: 218 50% 8%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 220 13% 91%;
    /* Subtle border */
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 199 89% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    /* Responsive base font size */
    font-size: clamp(0.875rem, 0.8rem + 0.25vw, 1rem);
    line-height: 1.6;
  }
  
  .dark body {
    background-color: hsl(218 50% 8%);
  }
}

/* Responsive Typography System */
@layer base {
  h1 {
    font-size: clamp(1.875rem, 1.5rem + 2vw, 3.75rem);
    line-height: 1.1;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  
  h2 {
    font-size: clamp(1.5rem, 1.25rem + 1.5vw, 2.5rem);
    line-height: 1.2;
    font-weight: 700;
    letter-spacing: -0.01em;
  }
  
  h3 {
    font-size: clamp(1.25rem, 1.1rem + 0.75vw, 1.75rem);
    line-height: 1.3;
    font-weight: 600;
  }
  
  h4 {
    font-size: clamp(1.125rem, 1rem + 0.5vw, 1.375rem);
    line-height: 1.4;
    font-weight: 600;
  }
  
  p {
    font-size: clamp(0.9375rem, 0.875rem + 0.25vw, 1.125rem);
    line-height: 1.7;
  }
}

/* Focus states for accessibility */
@layer base {
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
  
  .dark :focus-visible {
    @apply ring-offset-background;
  }
  
  /* Skip link for accessibility */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50;
    @apply bg-primary text-primary-foreground px-4 py-2 rounded-md;
  }
}

/* Responsive Container */
@layer components {
  .container {
    @apply mx-auto px-4 sm:px-6 lg:px-8;
    max-width: min(90rem, 100% - 2rem);
  }
}

/* Responsive Card Styles */
@layer components {
  .card-responsive {
    @apply bg-card border border-border rounded-lg;
    @apply p-4 sm:p-6;
    @apply transition-all duration-200;
  }
  
  .card-responsive:hover {
    @apply border-primary/50;
  }
  
  /* Card hover lift effect - degrades gracefully on mobile */
  @media (hover: hover) {
    .card-hover-lift:hover {
      @apply -translate-y-1;
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    }
    
    .dark .card-hover-lift:hover {
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    }
  }
}

/* Responsive Section Padding */
@layer components {
  .section-padding {
    @apply py-12 sm:py-16 md:py-20 lg:py-24;
  }
  
  .section-padding-sm {
    @apply py-8 sm:py-12 md:py-16;
  }
}

/* Responsive Grid System */
@layer components {
  .grid-responsive-2 {
    @apply grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2;
  }
  
  .grid-responsive-3 {
    @apply grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }
  
  .grid-responsive-4 {
    @apply grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4;
  }
}

/* Button Accessibility - Touch-friendly sizing */
@layer components {
  .btn-touch {
    @apply min-h-[44px] min-w-[44px] px-4 py-2;
    @apply sm:min-h-[48px] sm:px-6;
  }
}

/* Text Truncation Utilities */
@layer utilities {
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Responsive Spacing */
@layer utilities {
  .gap-responsive {
    @apply gap-4 sm:gap-6 lg:gap-8;
  }
  
  .space-y-responsive > * + * {
    @apply mt-4 sm:mt-6;
  }
}

/* Max Width for Readability */
@layer utilities {
  .max-w-prose {
    max-width: 65ch;
  }
  
  .max-w-readable {
    max-width: min(65ch, 100%);
  }
}

/* Background Grid Pattern */
@layer utilities {
  .bg-grid-pattern {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(255 255 255 / 0.05)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
    background-size: 40px 40px;
  }
  
  @screen sm {
    .bg-grid-pattern {
      background-size: 50px 50px;
    }
  }
}

/* Print Styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000;
    background: #fff;
  }
  
  a {
    text-decoration: underline;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  html {
    scroll-behavior: auto;
  }
}
